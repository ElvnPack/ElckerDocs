---
title: 核心工具包
date: 2021-06-22 00:39:10
permalink: /pages/4ab2a1/
categories:
  - 文档中心
  - EAdmin
tags:
  -
---

## 开发说明

### 1.文件位置

build\utils

### 2.编写规范

1.满足 TS 语法规范；

2.涉及的类型需要在 build\types 进行定义

3.模板

```nodejs
// 引入依赖库
import xxxx from 'xxxx';

// 引入 类型
import xxxx from 'xxxx';

// 定义实现体
class xxxxxUtils{

}

// 导出
export const xxxx = new xxxxxUtils();

```

## API

封装工具类的使用说明

### cookie

引入

import { ElckerCookie } from '~/utils/cookie';

#### 保存 set

ElckerCookie.set(key: any, value: any, expires?: any, path = '/')

> key: 属性名称（必传）
> value：属性值（必传）
> expires：过期时间（选填）
> path：目录（必传） 默认值：'/'

#### 获取 get

ElckerCookie.get(key: any); key: 属性名称（必传）

#### 删除 remove

ElckerCookie.remove(key: any, path = '/') key: 属性名称（必传）。path：目录（必传） 默认值：'/'

#### 获取全部 geteAll

ElckerCookie.geteAll() 可以获取所有的属性及值

### axios

对请求交互工具进行封装以简化 Api

引入： import ElckerServiceApi from '~/utils/axios';

具体的使用模板

```nodejs

import ElckerServiceApi from '~/utils/axios';
class xxxxService extends ElckerServiceApi {
  // 定义公共地址前缀
  private urlComPath = 'xxx';
  xxxx(data: ElckerUser) {
    return this.getRequest({
      url: this.urlComPath + 'xxxx',
      params: data,
    });
  }
}

// 单列模式返回对象
let xxxxApi;
export default (() => {
  if (xxxxApi) return xxxxApi;
  xxxxApi = new xxxxService();
  return xxxxApi;
})();

```

封装了基于 restful 的 api getRequest/postRequest/putRequest/patchRequest/deleteRequest/

#### 参数说明

- headers, // 请求的头信息 默认值： 'Content-Type': 'application/json;charset=UTF-8'
- method,
- url,
- data,
- params,
- responseType, // 响应的数据类型
- auth, // token 密码
- apiSate // VITE_APISATE 进行全局配置，（默认值为全局配置，不进行加密时，接口可设置值为 false） 对请求内容进行加密

### storage

import { ElckerStorage } from '~/utils/storage';

#### 保存

ElckerStorage.set("属性名称"，”属性值“，”过期时间？“，”路径？“)

#### 获取

ElckerStorage.get("属性名称");

#### 删除

ElckerStorage.remove("属性名称",”路径？“)

### crypto

引入：

import { ElckerEncrypt, ElckerDecrypt } from '~/utils/crypto';

#### 解密 ElckerDecrypt

ElckerDecrypt(密文)

#### 加密 ElckerEncrypt

ElckerEncrypt("明文")
